# 🎨 现代化图片批处理工具

一款功能强大、界面现代的桌面端图片批处理软件，支持批量裁剪和智能拼接。

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![CustomTkinter](https://img.shields.io/badge/CustomTkinter-5.2+-green.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

---

## ⚡ 快速开始

### Windows 用户（推荐）

1. **安装依赖**
   ```bash
   双击运行：install_dependencies.bat
   ```

2. **启动程序**
   ```bash
   双击运行：start.bat
   ```

### 所有平台

```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 运行程序
python image_processor.py
```

---

## ✨ 核心特性

### 🎨 现代化界面
- ✅ 基于 CustomTkinter 的深色主题
- ✅ 直观的三选项卡布局
- ✅ 实时预览效果
- ✅ 响应式设计

### ✂️ 智能裁剪
- ✅ **双模式裁剪**：数值输入 + 鼠标画框
- ✅ **双向联动**：两种模式实时同步
- ✅ 批量处理所有选中图片
- ✅ 自动保存到 cropped 文件夹

### 🧩 智能拼接
- ✅ **网格布局**：自定义行列数
- ✅ **水平/垂直拼接**：自动对齐
- ✅ **先预览后导出**：避免浪费时间
- ✅ 自定义间距和背景色

---

## 📸 功能演示

### 裁剪模式 A：数值微调
```
输入框 → 精确像素值 → 实时预览 → 批量应用
左: 10px  上: 20px  右: 10px  下: 20px
```

### 裁剪模式 B：可视化画框
```
加载预览 → 鼠标拖拽画框 → 自动计算参数 → 批量应用
```

### 拼接流程
```
选择图片 → 设置参数 → 生成预览 → 确认效果 → 导出高清图
```

---

## 📦 项目文件

```
项目根目录/
├── image_processor.py          # 主程序
├── requirements.txt            # 依赖列表
├── start.bat                   # 启动脚本
├── install_dependencies.bat    # 安装脚本
├── README.md                   # 本文件
├── 使用说明.md                 # 详细文档
├── 项目结构说明.md             # 技术文档
├── 更新日志.md                 # 版本记录
└── cropped/ & stitched/        # 输出目录
```

---

## 🔧 系统要求

- **Python**：3.8 或更高版本
- **操作系统**：Windows / macOS / Linux
- **依赖包**：见 requirements.txt

---

## 📖 使用指南

### 1️⃣ 文件管理
1. 选择文件夹批量导入
2. 或添加单个图片文件
3. 在列表中用鼠标拖选需要处理的图片

### 2️⃣ 批量裁剪
1. 切换到「✂️ 批量裁剪」选项卡
2. 点击「加载预览图片」
3. **方式一**：在预览区鼠标拖拽画框
4. **方式二**：在输入框填写像素值
5. 两种方式自动联动
6. 点击「批量裁剪并保存」

### 3️⃣ 智能拼接
1. 切换到「🧩 智能拼接」选项卡
2. 选择拼接模式（网格/水平/垂直）
3. 设置行列数、间距、背景色
4. 点击「生成预览」查看效果
5. 满意后点击「导出高清图片」保存

---

## 💡 实用技巧

| 技巧 | 说明 |
|------|------|
| 🔄 裁剪联动 | 画框时自动更新数值，修改数值时自动更新框的位置 |
| 👁️ 先预览 | 拼接前务必先生成预览，确认效果满意后再导出 |
| 📐 网格自动 | 行数或列数设为 0 即可自动计算最佳布局 |
| 🔗 裁剪+拼接 | 勾选「优先使用 cropped 文件夹」可使用裁剪后的图片 |
| 🎯 选择性拼接 | 勾选「仅拼接选中的图片」可只拼接特定图片 |

---

## 🚀 绿色部署

整个文件夹可直接复制到其他电脑使用：

1. 复制整个项目文件夹
2. 确保目标电脑已安装 Python 3.8+
3. 运行 `install_dependencies.bat`（或 `pip install -r requirements.txt`）
4. 运行 `start.bat`（或 `python image_processor.py`）

---

## 🛠️ 技术栈

- **GUI 框架**：CustomTkinter 5.2+
- **图像处理**：Pillow 10.0+
- **主题检测**：darkdetect 0.8+
- **编程语言**：Python 3.8+

## 📝 代码特点

- ✅ UI 与逻辑分离
- ✅ 模块化设计
- ✅ 详细注释
- ✅ 错误处理
- ✅ 易于扩展

---

## 📄 许可证

MIT License - 可自由使用、修改和分发

## 👨‍💻 开发信息

- **开发工具**：GitHub Copilot with Claude Sonnet 4.5
- **开发日期**：2026-01-20
- **版本**：1.0.0

---

**享受现代化的图片处理体验！** 🎉

Made with ❤️ by GitHub Copilot